function drawAxes(){ctx.strokeStyle="#222831",ctx.lineWidth=2,ctx.beginPath(),ctx.moveTo(0,canvas.height/2),ctx.lineTo(canvas.width,canvas.height/2),ctx.stroke(),ctx.beginPath(),ctx.moveTo(canvas.width/2,0),ctx.lineTo(canvas.width/2,canvas.height),ctx.stroke()}function submitEquation(){var a=$("#expression").val().replace(/θ/g,"x");node=math.parse(a),ctx.clearRect(0,0,canvas.width,canvas.height),drawAxes(),step=parseFloat($("#step").val());var t=math.eval($("#lowerbound").val().replace(/π/g,"pi")),c=math.eval($("#upperbound").val().replace(/π/g,"pi"));scalingFactor=(canvas.height-40)/(2*Math.round(getMaxRadius(t,c)));for(e=.5;!0&&!(scalingFactor*e>canvas.height/2);e+=.5)e%1==0?(ctx.strokeStyle="#9a9a9a",ctx.lineWidth=2):(ctx.strokeStyle="#dcdcdc",ctx.lineWidth=1),ctx.beginPath(),ctx.moveTo(0,canvas.height/2+scalingFactor*e),ctx.lineTo(canvas.width,canvas.height/2+scalingFactor*e),ctx.stroke(),ctx.beginPath(),ctx.moveTo(0,canvas.height/2-scalingFactor*e),ctx.lineTo(canvas.width,canvas.height/2-scalingFactor*e),ctx.stroke();for(var e=.5;!0&&!(scalingFactor*e>canvas.width/2);e+=.5)e%1==0?(ctx.strokeStyle="#9a9a9a",ctx.lineWidth=2):(ctx.strokeStyle="#dcdcdc",ctx.lineWidth=1),ctx.beginPath(),ctx.moveTo(canvas.width/2+scalingFactor*e,0),ctx.lineTo(canvas.width/2+scalingFactor*e,canvas.height),ctx.stroke(),ctx.beginPath(),ctx.moveTo(canvas.width/2-scalingFactor*e,0),ctx.lineTo(canvas.width/2-scalingFactor*e,canvas.height),ctx.stroke();ctx.fillStyle="#0092CA";for(var n=t;n<=c;n+=step){var i=node.eval({x:n}),s=i*math.eval("cos("+n+")")*scalingFactor,o=i*math.eval("sin("+n+")")*scalingFactor;ctx.fillRect(canvas.width/2+s,canvas.height/2-o,2,2)}}function getMaxRadius(a,t){for(var c=Number.MIN_VALUE,e=a;e<=t;e+=step){var n=node.eval({x:e});n>c&&(c=n)}return c}var step,scalingFactor;$(document).ready(function(){canvas=document.getElementById("graphCanvas"),canvas.width=.7*window.innerWidth,canvas.height=window.innerHeight,ctx=canvas.getContext("2d")});